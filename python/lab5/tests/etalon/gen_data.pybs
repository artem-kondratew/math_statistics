ZnJvbSBudW1weSBpbXBvcnQgcGkKZnJvbSBudW1weS5yYW5kb20gaW1wb3J0IHVuaWZvcm0sIHJh
bmRpbnQsIG5vcm1hbAoKcHJlYyA9IDQKCmRlZiBnZW5lcmF0ZUV2YWxTdHJpbmdNYWluKHByb2JD
ZW50ZXIgPSA3MCwgcHJvYkRlbHRhPTEwKToKICAgIHIxID0gbm9ybWFsKHByb2JDZW50ZXIsIHBy
b2JEZWx0YSkKICAgIGlmIHIxPjUwOgogICAgICAgIHJlcyA9ICJpbnYoIiArIGdlbmVyYXRlRXZh
bFN0cmluZ01haW4ocHJvYkNlbnRlcj1wcm9iQ2VudGVyLTIqcHJvYkRlbHRhKSArICIpIgogICAg
ZWxzZToKICAgICAgICBMID0gW10KICAgICAgICBwYyA9IDkwCiAgICAgICAgcGQgPSAyMAogICAg
ICAgIHIyID0gcmFuZGludChwYy1wZCwgcGMrcGQpCiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAg
ICAgICAgcjMgPSByYW5kaW50KDAsMykKICAgICAgICAgICAgaWYgcjM9PTA6CiAgICAgICAgICAg
ICAgICBzID0gZiJ0cmFuKHtyb3VuZCh1bmlmb3JtKDUwKSxwcmVjKX0sIHtyb3VuZCh1bmlmb3Jt
KDUwKSxwcmVjKX0pIgogICAgICAgICAgICBlbGlmIHIzPT0xOgogICAgICAgICAgICAgICAgcyA9
IGYicm90KHtyb3VuZCh1bmlmb3JtKC01KnBpLDUqcGkpLHByZWMpfSkiCiAgICAgICAgICAgIGVs
aWYgcjM9PTI6CiAgICAgICAgICAgICAgICBzID0gImludigiICsgZ2VuZXJhdGVFdmFsU3RyaW5n
TWFpbihwcm9iQ2VudGVyPXByb2JDZW50ZXItMipwcm9iRGVsdGEpICsgIikiCgogICAgICAgICAg
ICBMLmFwcGVuZChzKQogICAgICAgICAgICBpZiByMjw1MDoKICAgICAgICAgICAgICAgIGJyZWFr
CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwYy09MipwZAogICAgICAgICAgICAg
ICAgcjIgPSByYW5kaW50KHBjLXBkLCBwYytwZCkKICAgICAgICByZXMgPSAiQCIuam9pbihMKQog
ICAgcmV0dXJuIHJlcwogICAgCiAgICAKZGVmIGdlbmVyYXRlRXZhbFN0cmluZyhwcm9iPTcwKToK
ICAgIHMgPSBnZW5lcmF0ZUV2YWxTdHJpbmdNYWluKHByb2IpCiAgICBpZiByYW5kaW50KDIpOgog
ICAgICAgIHMgPSBzICsgZiJAW3tyb3VuZCh1bmlmb3JtKC01MCw1MCksIHByZWMpfSwge3JvdW5k
KHVuaWZvcm0oLTUwLDUwKSwgcHJlYyl9XSIKICAgIHJldHVybiBzCgppZiBfX25hbWVfXz09Il9f
bWFpbl9fIjoKICAgIGZyb20gbWFpbiBpbXBvcnQgcGFyc2Vfc3RyCiAgICBmb3IgaSBpbiByYW5n
ZSgxMCk6CiAgICAgICAgcyA9IGdlbmVyYXRlRXZhbFN0cmluZygpCiAgICAgICAgcHJpbnQocykK
ICAgICAgICBwcmludChwYXJzZV9zdHIocykpCgogICAgCiAgICAKICAgIAo=
